# 提示词优化 MCP 服务器 - 快速使用指南

## 🚀 什么是 MCP？

**模型上下文协议 (Model Context Protocol, MCP)** 是一个标准化协议，允许 AI 模型与外部工具和服务进行交互。

### MCP 的核心概念：
1. **服务器 (Server)** - 提供工具和功能的程序
2. **客户端 (Client)** - 使用工具的 AI 应用（如 Cursor、Claude Desktop）
3. **工具 (Tools)** - 服务器提供给 AI 模型调用的具体功能
4. **传输 (Transport)** - 客户端和服务器之间的通信方式

## 📋 配置步骤

### 第 1 步：找到配置文件
根据你的操作系统，找到 `claude_desktop_config.json` 文件：

- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
- **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
- **Linux**: `~/.config/Claude/claude_desktop_config.json`

### 第 2 步：添加服务器配置
将以下内容添加到配置文件中：

```json
{
  "mcpServers": {
    "prompt-optimizer": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-prompt-optimizer"
      ]
    }
  }
}
```

### 第 3 步：重启 Cursor
保存配置文件后，完全重启 Cursor 应用程序。

## 🛠️ 如何使用

### 基本用法
在 Cursor 的对话中直接输入：
```
请使用 optimize_prompt 工具优化这个提示词："写代码"
```

### 高级用法
```
使用 optimize_prompt 工具，参数如下：
- originalPrompt: "帮我写个函数"
- context: "这是一个 React 项目"
- targetAudience: "初级开发者"
- optimizationGoals: ["clarity", "specificity", "examples"]
- style: "friendly"
```

## 🎯 优化目标说明

- **clarity** (清晰度) - 移除模糊语言，使表达更清晰
- **specificity** (具体性) - 添加具体细节和约束条件
- **structure** (结构) - 改善逻辑结构和组织
- **context** (上下文) - 添加相关背景信息
- **actionable** (可执行性) - 使指令更具体可执行
- **conciseness** (简洁性) - 去除冗余，保持简洁
- **examples** (示例) - 添加说明性示例
- **format** (格式) - 指定输出格式要求

## 📊 返回结果说明

工具会返回包含以下信息的 JSON 对象：

```json
{
  "optimizedPrompt": "优化后的提示词",
  "improvements": ["改进1", "改进2"],
  "reasoning": "详细的分析过程",
  "originalLength": 原始长度,
  "optimizedLength": 优化后长度,
  "score": 评分(1-10)
}
```

## 🔧 故障排除

### 常见问题：
1. **找不到工具** - 检查配置文件路径和格式
2. **服务器无响应** - 重启 Cursor 并检查网络连接
3. **权限错误** - 确保有执行 npx 的权限

### 调试步骤：
1. 验证配置文件语法正确
2. 检查 Cursor 的开发者控制台是否有错误信息
3. 尝试手动运行：`npx @modelcontextprotocol/server-prompt-optimizer`

## 💡 使用技巧

1. **明确目标** - 选择最适合你需求的优化目标
2. **提供上下文** - 添加相关背景信息获得更好结果
3. **指定受众** - 明确目标受众以获得合适的语言风格
4. **迭代优化** - 可以对优化结果再次优化

## 🎉 开始使用

现在你已经了解了如何配置和使用提示词优化 MCP 服务器！试试优化你的第一个提示词吧：

```
请优化这个提示词："帮我做个网站"
```
